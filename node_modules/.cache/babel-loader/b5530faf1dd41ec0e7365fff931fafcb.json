{"ast":null,"code":"import _classCallCheck from \"C:\\\\_dev\\\\React\\\\charts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\_dev\\\\React\\\\charts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\_dev\\\\React\\\\charts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\_dev\\\\React\\\\charts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\_dev\\\\React\\\\charts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\_dev\\\\React\\\\charts\\\\src\\\\Components\\\\barchart.jsx\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nvar LineCHart =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LineCHart, _Component);\n\n  function LineCHart() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LineCHart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LineCHart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.DrawChart = function () {\n      var margin = {\n        top: 20,\n        right: 30,\n        bottom: 80,\n        left: 50\n      };\n      var width = _this.props.width - margin.left - margin.right;\n      var height = _this.props.height - margin.top - margin.bottom;\n      var parseTime = d3.timeParse('%d.%m.%Y');\n      var data = _this.props.data.data;\n      var buffer = [];\n      data.forEach(function (d, i) {\n        buffer.push(Object.values(d)); // format the date string into date type\n\n        buffer[i][0] = parseTime(buffer[i][0]);\n\n        if (typeof buffer[i][1] != 'number') {\n          // number string into int\n          buffer[i][1] = parseInt(buffer[i][1]);\n        }\n      });\n      var x = d3.scaleBand().rangeRound([0, width]).domain(buffer.map(function (d) {\n        return d[0];\n      }));\n      var y = d3.scaleLinear().domain([0, d3.max(buffer, function (d) {\n        return d[1];\n      })]).range([height, 0]); // manipulate svg and create group\n\n      var svg = d3.select('.svgBarChart').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', \"translate(\".concat(margin.left, \",\").concat(margin.top, \")\")); // add the x axis\n\n      svg.append('g').attr('transform', \"translate(0,\".concat(height, \")\")).call(d3.axisBottom(x).tickFormat(d3.timeFormat('%d.%m.%Y'))).selectAll('text').attr(\"transform\", \"rotate(-90)\").style(\"text-anchor\", \"end\"); // add the y axis\n\n      svg.append('g').call(d3.axisLeft(y)); // add the bars\n\n      svg.selectAll(\"rect\").data(data).enter().append(\"rect\").style(\"fill\", \"steelblue\").attr(\"x\", function (d) {\n        return x(d[0]);\n      }).attr(\"width\", x.bandwidth()).attr(\"y\", function (d) {\n        return y(d[1]);\n      }).attr(\"height\", function (d) {\n        return height - y(d[1]);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(LineCHart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.DrawChart();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"svg\", {\n        className: \"svgBarChart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return LineCHart;\n}(Component);\n\nexport { LineCHart as default };","map":{"version":3,"sources":["C:\\_dev\\React\\charts\\src\\Components\\barchart.jsx"],"names":["React","Component","d3","LineCHart","DrawChart","margin","top","right","bottom","left","width","props","height","parseTime","timeParse","data","buffer","forEach","d","i","push","Object","values","parseInt","x","scaleBand","rangeRound","domain","map","y","scaleLinear","max","range","svg","select","attr","append","call","axisBottom","tickFormat","timeFormat","selectAll","style","axisLeft","enter","bandwidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport * as d3 from 'd3'\r\n\r\nexport default class LineCHart extends Component {\r\n\r\n  componentDidMount() {\r\n    this.DrawChart()\r\n  }\r\n\r\n  DrawChart = () => {\r\n    const margin = {top: 20, right: 30, bottom: 80, left: 50}\r\n    const width = this.props.width - margin.left - margin.right\r\n    const height = this.props.height - margin.top - margin.bottom\r\n    let parseTime = d3.timeParse('%d.%m.%Y')\r\n    let data = this.props.data.data\r\n    let buffer = []\r\n\r\n    data.forEach((d,i) => {\r\n      buffer.push(Object.values(d))\r\n      // format the date string into date type\r\n      buffer[i][0] = parseTime(buffer[i][0])\r\n      if(typeof buffer[i][1] != 'number'){\r\n        // number string into int\r\n        buffer[i][1] = parseInt(buffer[i][1])\r\n      }\r\n    })\r\n\r\n    let x = d3.scaleBand()\r\n      .rangeRound([0, width])\r\n      .domain(buffer.map(d => d[0]))\r\n\r\n\r\n    let y = d3.scaleLinear()\r\n      .domain([0,d3.max(buffer, d => d[1])])\r\n      .range([height, 0])\r\n\r\n\r\n    // manipulate svg and create group\r\n    let svg = d3.select('.svgBarChart')\r\n      .attr('width', width + margin.left + margin.right)\r\n      .attr('height', height + margin.top + margin.bottom)\r\n      .append('g')\r\n      .attr('transform',\r\n            `translate(${margin.left},${margin.top})`)\r\n\r\n    // add the x axis\r\n    svg.append('g')\r\n      .attr('transform', `translate(0,${height})`)\r\n      .call(d3.axisBottom(x).tickFormat(d3.timeFormat('%d.%m.%Y')))\r\n      .selectAll('text')\r\n      .attr(\"transform\", \"rotate(-90)\")\r\n      .style(\"text-anchor\", \"end\")\r\n\r\n\r\n\r\n    // add the y axis\r\n    svg.append('g')\r\n     .call(d3.axisLeft(y))\r\n\r\n    // add the bars\r\n    svg.selectAll(\"rect\")\r\n      .data(data)\r\n      .enter().append(\"rect\")\r\n      .style(\"fill\", \"steelblue\")\r\n      .attr(\"x\", d => x(d[0]))\r\n      .attr(\"width\", x.bandwidth())\r\n      .attr(\"y\", d => y(d[1]) )\r\n      .attr(\"height\", d => height - y(d[1]))\r\n  }\r\n\r\n  render() {\r\n    return <svg className=\"svgBarChart\"></svg>\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}